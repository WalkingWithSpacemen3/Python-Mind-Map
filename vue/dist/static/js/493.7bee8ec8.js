"use strict";(self["webpackChunkmindmap"]=self["webpackChunkmindmap"]||[]).push([[493],{7493:function(s,t,e){e.r(t),e.d(t,{default:function(){return c}});var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{staticClass:"title"},[s._v(" python第"+s._s(s.ChapterID)+"章："+s._s(s.TestName)+" ")]),e("el-form",{staticClass:"main"},[e("P",{staticClass:"headline"},[s._v("客观题"),s.isSubmit?e("span",{staticClass:"score"},[s._v("你的得分："+s._s(s.score))]):s._e()]),s._l(s.optQuesList,(function(t,i){return e("el-form-item",{attrs:{size:"medium"}},[e("P",{staticClass:"quesTitle",class:{wrongAns:!1===s.checkResult.optQuesRes[i]}},[e("span",{staticClass:"quesNum"},[s._v(s._s(t.number))]),s._v(s._s(t.title)+" "),!1===s.checkResult.optQuesRes[i]?e("i",{staticClass:"el-icon-close"}):s._e()]),e("el-radio-group",{on:{change:s.test},model:{value:s.optAns[i],callback:function(t){s.$set(s.optAns,i,t)},expression:"optAns[i]"}},s._l(t.options,(function(t,i){return e("div",[e("el-radio",{attrs:{label:s.getAlpha(i),size:"medium"}},[e("span",[s._v(s._s(s.getAlpha(i))+".")]),e("span",{staticClass:"option"},[s._v(s._s(t))])])],1)})),0),s.isSubmit?e("div",{staticClass:"correctAnswer"},[s._v("正确答案："+s._s(s.correctAnswers[0][i]))]):s._e()],1)})),s._l(s.multiOptQuestList,(function(t,i){return e("el-form-item",{attrs:{size:"medium"}},[e("P",{staticClass:"quesTitle",class:{wrongAns:!1===s.checkResult.multiOptQuesRes[i]}},[e("span",{staticClass:"quesNum"},[s._v(s._s(t.number))]),s._v(s._s(t.title)+" "),!1===s.checkResult.multiOptQuesRes[i]?e("i",{staticClass:"el-icon-close"}):s._e()]),e("el-checkbox-group",{attrs:{size:"medium"},model:{value:s.multiAns[i],callback:function(t){s.$set(s.multiAns,i,t)},expression:"multiAns[i]"}},s._l(t.options,(function(t,i){return e("div",[e("el-checkbox",{attrs:{label:s.getAlpha(i),size:"medium"}},[e("span",[s._v(s._s(s.getAlpha(i))+".")]),e("span",{staticClass:"option"},[s._v(s._s(t))])])],1)})),0),s.isSubmit?e("div",{staticClass:"correctAnswer"},[s._v("正确答案："+s._s(s.correctAnswers[1][i]))]):s._e()],1)})),s._l(s.TFQuestionList,(function(t,i){return e("el-form-item",{attrs:{size:"medium"}},[e("P",{staticClass:"quesTitle",class:{wrongAns:!1===s.checkResult.TFQuesRes[i]}},[e("span",{staticClass:"quesNum"},[s._v(s._s(t.number))]),s._v(s._s(t.title)+" "),!1===s.checkResult.TFQuesRes[i]?e("i",{staticClass:"el-icon-close"}):s._e()]),e("el-radio-group",{model:{value:s.TFAns[i],callback:function(t){s.$set(s.TFAns,i,t)},expression:"TFAns[i]"}},[e("div",[e("el-radio",{attrs:{label:"1",size:"medium"}},[e("i",{staticClass:"el-icon-check TFOpt"})])],1),e("div",[e("el-radio",{attrs:{label:"0",size:"medium"}},[e("i",{staticClass:"el-icon-close TFOpt"})])],1)]),s.isSubmit?e("div",{staticClass:"correctAnswer"},[s._v("正确答案："+s._s(s.correctAnswers[2][i]))]):s._e()],1)})),s._l(s.blankQuesList,(function(t,i){return e("el-form-item",[e("P",{staticClass:"quesTitle",class:{wrongAns:!1===s.checkResult.blanQuesRes[i]}},[e("span",{staticClass:"quesNum"},[s._v(s._s(t.number))]),s._v(s._s(t.title)+" "),!1===s.checkResult.blanQuesRes[i]?e("i",{staticClass:"el-icon-close"}):s._e()]),e("el-input",{staticStyle:{width:"50%"},attrs:{size:"medium",clearable:""},model:{value:s.blanAns[i],callback:function(t){s.$set(s.blanAns,i,t)},expression:"blanAns[i]"}}),s.isSubmit?e("div",{staticClass:"correctAnswer"},[s._v("正确答案："+s._s(s.correctAnswers[3][i]))]):s._e()],1)})),e("el-button",{staticClass:"subBtn",attrs:{type:"primary"},on:{click:s.clickSubmit}},[s._v("提交答案")]),e("el-divider"),e("P",{staticClass:"headline"},[s._v("编程题"),e("span",{staticStyle:{"font-size":"0.8em","font-weight":"normal"}},[s._v("（将代码文件上传即可）")])]),s._l(s.programQuestList,(function(t,i){return e("el-form-item",[e("P",{staticClass:"quesTitle"},[e("span",{staticClass:"quesNum"},[s._v(s._s(t.number))]),s._v(s._s(t.title))]),e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",limit:1,"file-list":s.codefileList[i],"show-file-list":"","auto-upload":!1,"on-error":s.uploadError,"on-success":s.uploadSuccess,action:"#","on-change":function(t,e){return s.handleChange(t,e,i)},"on-remove":function(t,e){return s.fileRemove(t,e,i)}}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[s._v("将文件拖到此处，或"),e("em",[s._v("点击上传")])])]),e("el-button",{staticClass:"subBtn",attrs:{type:"primary"},on:{click:function(){return s.upload(i)}}},[s._v("上传")])],1)}))],2),e("el-dialog",{attrs:{title:"提示",visible:s.dialogVisible,width:"20%",top:"35vh"},on:{"update:visible":function(t){s.dialogVisible=t}}},[e("span",[s._v("确定要提交答案？")]),s.isFinished?s._e():e("div",{staticClass:"unFinishWarn"},[e("i",{staticClass:"el-icon-warning"}),s._v("还有题目未完成")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"btn",on:{click:function(t){s.dialogVisible=!1}}},[s._v("取 消")]),e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:s.submit}},[s._v("确 定")])],1)])],1)},l=[],n=(e(7658),e(7004)),o={name:"AnswerCar",data(){return{ChapterID:1,TestID:1,TestName:"",UserID:"",chapterName:"",isSubmit:!1,optQuesList:[{number:1,title:"某建设工程施工招标，甲公司中标后将其转包给不具有相应资质等级的乙公司，乙施工过程不符合规定的质量标准，给建设单位造成损失。关于向建设单位承担赔偿责任的说法，正确的是（ ）。",options:["甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任","建设单位与甲有合同关系，应由乙承担赔偿责任甲、乙承担连带赔偿责任v","乙为实际施工人，应由乙承担赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任"]}],optQuestion:{number:0,title:"",options:[]},multiOptQuestList:[{number:1,title:"某建设工程施工招标，甲公司中标后将其转包给不具有相应资质等级的乙公司，乙施工过程不符合规定的质量标准，给建设单位造成损失。关于向建设单位承担赔偿责任的说法，正确的是（ ）。",options:["甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任","建设单位与甲有合同关系，应由乙承担赔偿责任甲、乙承担连带赔偿责任v","乙为实际施工人，应由乙承担赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任甲、乙承担连带赔偿责任"]}],TFQuestionList:[{title:"The integrated development tool built into Python is",number:1}],blankQuesList:[{title:"企业事业单位和其他生产经营者，为改善环境，依照有关规定转产、搬迁、关闭的，人民政府应当子以支持。",number:0},{title:"人民代表大会制度是我国的根本制度。",number:1},{title:"一切法律、行政法规和地方性法规都不得同宪法相抵触。",number:2},{title:"我国最高国家权力机关的常设机关是全国人民代表大会常务委员会。",number:3}],blankQuestion:{title:"",number:0},programQuestList:[{number:1,title:"The integrated development tool built into Python is"},{number:2,title:"The integrated development tool built into Python is"}],checkResult:{optQuesRes:[],multiOptQuesRes:[],TFQuesRes:[],blanQuesRes:[]},correctAnswers:[],optAns:[],multiAns:[[]],TFAns:[],blanAns:[],UserAnswers:[],dialogVisible:!1,isFinished:!1,score:"",codefileList:[]}},created(){console.log("answercard"),this.UserID=this.$store.state.userInfo.userID,this.ChapterID=Number(this.$route.query.ChapterID)+1,this.TestName=this.$route.query.TestName;let s=`/user/getquestions?ChapterID=${this.ChapterID}&TestID=${this.TestID}`;n.Z.get(s).then((s=>{if(200===s.status){this.isSubmit=!0===s.data.data.hasDoneTest,this.optAns=[],this.multiAns=[],this.TFAns=[],this.blanAns=[];for(let t of s.data.data.questions){this.optQuestion.number=t.QuestionNumber;let s=t.Description.split("@");switch(t.QuestionType){case 0:this.optQuestion.title=s[0],this.optQuestion.options=s.slice(1),this.optQuesList.push(this.optQuestion),this.optAns.push("");break;case 1:this.optQuestion.title=s[0],this.optQuestion.options=s.slice(1),this.multiOptQuestList.push(this.optQuestion),this.multiAns.push([]);break;case 2:this.blankQuestion.title=s[0],this.TFQuestionList.push(this.blankQuestion),this.TFAns.push("");break;case 3:this.blankQuestion.title=s[0],this.blankQuesList.push(this.blankQuestion),this.blanAns.push("");break;case 4:this.blankQuestion.title=s[0],this.blankQuesList.push(this.blankQuestion),this.codefileList.push([])}}}})).catch((s=>{console.log(s),this.$message({type:"error",message:"加载失败"})})),this.isFinished&&this.showAns()},methods:{test(s){for(let t of this.optAns)console.log(t)},clickSubmit(){this.UserAnswers=[];let s=0;for(let e of this.optAns)this.UserAnswers[s++]=void 0===e||""===e?"null":e;for(let e of this.multiAns)this.UserAnswers[s++]=void 0===e||e===[]?"null":e.sort().join("");for(let e of this.TFAns)this.UserAnswers[s++]=void 0===e||""===e?"null":e;for(let e of this.blanAns)this.UserAnswers[s++]=void 0===e||""===e?"null":e;console.log(this.UserAnswers),this.dialogVisible=!0;let t=0;for(let e of this.UserAnswers)"null"!==e&&t++;t===this.UserAnswers.length&&(this.isFinished=!0)},submit(){this.dialogVisible=!1;let s=this.UserAnswers.join("@"),t=`ChapterID=${this.ChapterID}&TestID=${this.TestID}&UserID=${this.$store.state.userInfo.userID}&Answers=${s}`;n.Z.post(t).then((s=>{200===s.status&&(this.$message({type:"success",message:"提交成功"}),this.showAns())})).catch((s=>{console.log(s),this.$message({type:"error",message:"提交失败"})}))},showAns(){let s=`/user/getcorrectanswers?ChapterID=${this.ChapterID}&TestID=${this.TestID}&UserID=${this.UserID}`;n.Z.get(s).then((s=>{if(200===s.status){let t=s.data.data["correct answer"].split("@"),e=this.optQuesList.length,i=e+this.multiOptQuestList.length,l=i+this.TFQuestionList.length,n=l+this.blankQuesList.length;this.correctAnswers=[],this.correctAnswers.push(t.slice(0,e)),this.correctAnswers.push(t.slice(e,i)),this.correctAnswers.push(t.slice(i,l)),this.correctAnswers.push(t.slice(l,n)),this.checkResult=s.data.data["result"],this.UserAnswers=s.data.data["user answer"].split("@"),this.score=0,this.checkResult.forEach((s=>{!0===s&&this.score++})),this.score/=this.checkResult.length}})).catch((s=>{this.$message({type:"error",message:"获取答题信息失败"})}))},onBeforeUpload(s){const t="image/jpeg"===s.type||"image/gif",e=s.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),e||this.$message.error("上传文件大小不能超过 1MB!"),t&&e},uploadError(s,t,e){console.log(s),console.log(e)},uploadSuccess(s,t,e){console.log(s),console.log(e)},handleChange(s,t,e){this.codefileList[e]=t,console.log(t)},fileRemove(s,t,e){console.log(t),this.codefileList[e]=t},upload(s){let t=new FormData;if(0===this.codefileList[s].length)return void this.$message({type:"error",message:"未提交文件"});let e=this.codefileList[s][0].raw;t.append("codes",e),console.log(e);let i=`/user/uploadcodes?ChapterID=${this.ChapterID}&TestID=${this.TestID}`;n.Z.post(i,t).then((s=>{200===s.status&&this.$message("上传成功")})).catch((s=>{console.log(s),this.$message({type:"error",message:"上传失败"})}))},getAlpha(s){return String.fromCharCode(65+s)}}},a=o,r=e(3736),u=(0,r.Z)(a,i,l,!1,null,"54fb5829",null),c=u.exports}}]);
//# sourceMappingURL=493.7bee8ec8.js.map
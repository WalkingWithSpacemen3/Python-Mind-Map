{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Header\",\n\n  data() {\n    const checkID = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('学号不能为空'));\n      }\n\n      let regPos = /[0-9]/;\n\n      if (!regPos.test(value)) {\n        callback(new Error('请输入学号'));\n      } else {\n        if (value.length !== 12) {\n          callback(new Error('学号必须为12位'));\n        } else {\n          callback();\n        }\n      }\n    };\n\n    const validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      isLogin: false,\n      User: {\n        name: '张三',\n        id: '202034340099',\n        password: ''\n      },\n      loginDialog: false,\n      rules: {\n        id: [{\n          validator: checkID,\n          trigger: 'blur'\n        }],\n        password: [{\n          validator: validatePass,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    login() {\n      request.post(\"/login\", this.User).then(res => {\n        if (res.code === 0) {\n          this.isLogin = true;\n          this.$message({\n            type: \"success\",\n            message: \"登陆成功\"\n          });\n        } else {\n          this.$message({\n            type: \"error\",\n            message: \"登陆失败\"\n          });\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAkCA;AAEA;EACAA,cADA;;EAEAC;IACA;MACA;QACA;MACA;;MACA;;MACA;QACAC;MACA,CAFA,MAEA;QACA;UACAA;QACA,CAFA,MAEA;UACAA;QACA;MACA;IACA,CAdA;;IAeA;MACA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CANA;;IAOA;MACAC,cADA;MAEAC;QACAJ,UADA;QAEAK,kBAFA;QAGAC;MAHA,CAFA;MAOAC,kBAPA;MAQAC;QACAH,KACA;UAAAI;UAAAC;QAAA,CADA,CADA;QAIAJ,WACA;UAAAG;UAAAC;QAAA,CADA;MAJA;IARA;EAiBA,CA1CA;;EA2CAC;IACAC;MACAC;QACA;UACA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA,CANA,MAMA;UACA;YACAD,aADA;YAEAC;UAFA;QAIA;MACA,CAbA;IAcA;;EAhBA;AA3CA","names":["name","data","callback","isLogin","User","id","password","loginDialog","rules","validator","trigger","methods","login","request","type","message"],"sourceRoot":"src/components","sources":["Header.vue"],"sourcesContent":["<template>\r\n  <!--<el-row>-->\r\n  <!--<el-col v-if=\"!isLogin\" :span=\"4\" :offset=\"18\">-->\r\n  <!--  <el-button type=\"primary\" @click=\"loginDialog = true\">登录</el-button>-->\r\n  <!--  <el-dialog :visible=\"loginDialog\" :before-close=\"(done) => {this.loginDialog = false}\" :width=\"'20%'\">-->\r\n  <!--    <el-form ref=\"User\" :model=\"User\" label-width=\"50px\" :rules=\"rules\">-->\r\n  <!--      <el-form-item label=\"学号\" prop=\"id\">-->\r\n  <!--        <el-input v-model=\"User.id\" placeholder=\"学号\" clearable></el-input>-->\r\n  <!--      </el-form-item>-->\r\n  <!--      <el-form-item label=\"密码\" prop=\"password\">-->\r\n  <!--        <el-input type=\"password\" v-model=\"User.password\" placeholder=\"密码\" clearable></el-input>-->\r\n  <!--      </el-form-item>-->\r\n  <!--      <el-form-item label-width=\"10px\">-->\r\n  <!--        <el-button type=\"primary\" @click=\"login\" style=\"width: 100%\">登录</el-button>-->\r\n  <!--      </el-form-item>-->\r\n  <!--    </el-form>-->\r\n  <!--  </el-dialog>-->\r\n  <!--</el-col>-->\r\n  <!--<el-col :span=\"4\" :offset=\"14\">-->\r\n  <el-menu :default-active=\"2\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"\" background-color=\"#37373c\">\r\n\r\n    <el-menu-item disabled style=\"opacity: 1; cursor: auto\">{{ User.name }}, {{ User.id }}</el-menu-item>\r\n    <el-menu-item index=\"1\">\r\n      <el-button icon=\"el-icon-user-solid\" circle></el-button>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"2\">得分情况</el-menu-item>\r\n\r\n  </el-menu>\r\n\r\n  <!--  </el-col>-->\r\n  <!--</el-row>-->\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"Header\",\r\n  data() {\r\n    const checkID = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error('学号不能为空'));\r\n      }\r\n      let regPos = /[0-9]/;\r\n      if (!regPos.test(value)) {\r\n        callback(new Error('请输入学号'));\r\n      } else {\r\n        if (value.length !== 12) {\r\n          callback(new Error('学号必须为12位'));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    const validatePass = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      isLogin: false,\r\n      User: {\r\n        name: '张三',\r\n        id: '202034340099',\r\n        password: ''\r\n      },\r\n      loginDialog: false,\r\n      rules: {\r\n        id: [\r\n          {validator: checkID, trigger: 'blur'}\r\n        ],\r\n        password: [\r\n          {validator: validatePass, trigger: 'blur'}\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      request.post(\"/login\", this.User).then(res => {\r\n        if (res.code === 0) {\r\n          this.isLogin = true;\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"登陆成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"登陆失败\"\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.el-menu-demo {\r\n  padding-right: 5%;\r\n  border-bottom-color: #5c5e63;\r\n}\r\n\r\n.el-menu--horizontal > .el-menu-item {\r\n  float: right;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import exampleData from \"simple-mind-map/example/exampleData\";\nimport exampleData_python from \"../data/exampleData_python\";\nimport { simpleDeepClone } from 'simple-mind-map/src/utils/index';\nconst SIMPLE_MIND_MAP_DATA = 'SIMPLE_MIND_MAP_DATA';\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-02 22:36:48 \r\n * @Desc: 克隆思维导图数据，去除激活状态 \r\n */\n\nconst copyMindMapTreeData = (tree, root) => {\n  tree.data = simpleDeepClone(root.data); // tree.data.isActive = false\n\n  tree.children = [];\n\n  if (root.children && root.children.length > 0) {\n    root.children.forEach((item, index) => {\n      tree.children[index] = copyMindMapTreeData({}, item);\n    });\n  }\n\n  return tree;\n};\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-01 10:10:49 \r\n * @Desc: 获取缓存的思维导图数据 \r\n */\n\n\nexport const getData = () => {\n  let store = localStorage.getItem(SIMPLE_MIND_MAP_DATA); // console.log(\"run simpleDeepClone(exampleData)\")\n  // console.log(\"exampleData\",exampleData)\n\n  return simpleDeepClone(exampleData_python); // if (store === null) {\n  //     console.log(\"run simpleDeepClone(exampleData)\")\n  //     console.log(\"exampleData\",exampleData)\n  //     return simpleDeepClone(exampleData)\n  // } else {\n  //     try {\n  //         console.log(\"donot run simpleDeepClone(exampleData)\")\n  //         return JSON.parse(store)\n  //     } catch (error) {\n  //         return simpleDeepClone(exampleData)\n  //     }\n  // }\n};\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-01 10:14:28 \r\n * @Desc: 存储思维导图数据 \r\n */\n\nexport const storeData = data => {\n  try {\n    let originData = getData();\n    originData.root = copyMindMapTreeData({}, data);\n    let dataStr = JSON.stringify(originData);\n    localStorage.setItem(SIMPLE_MIND_MAP_DATA, dataStr);\n  } catch (error) {\n    console.log(error);\n  }\n};\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-01 10:24:56 \r\n * @Desc: 存储思维导图配置数据 \r\n */\n\nexport const storeConfig = config => {\n  try {\n    let originData = getData();\n    originData = { ...originData,\n      ...config\n    };\n    let dataStr = JSON.stringify(originData);\n    localStorage.setItem(SIMPLE_MIND_MAP_DATA, dataStr);\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["exampleData","exampleData_python","simpleDeepClone","SIMPLE_MIND_MAP_DATA","copyMindMapTreeData","tree","root","data","children","length","forEach","item","index","getData","store","localStorage","getItem","storeData","originData","dataStr","JSON","stringify","setItem","error","console","log","storeConfig","config"],"sources":["D:/新建文件夹/git项目/GinTest-1/vue/src/api/index.js"],"sourcesContent":["import exampleData from \"simple-mind-map/example/exampleData\"\r\nimport exampleData_python from \"../data/exampleData_python\"\r\nimport { simpleDeepClone } from 'simple-mind-map/src/utils/index'\r\n\r\nconst SIMPLE_MIND_MAP_DATA = 'SIMPLE_MIND_MAP_DATA'\r\n\r\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-02 22:36:48 \r\n * @Desc: 克隆思维导图数据，去除激活状态 \r\n */\r\nconst copyMindMapTreeData = (tree, root) => {\r\n    tree.data = simpleDeepClone(root.data)\r\n    // tree.data.isActive = false\r\n    tree.children = []\r\n    if (root.children && root.children.length > 0) {\r\n        root.children.forEach((item, index) => {\r\n            tree.children[index] = copyMindMapTreeData({}, item)\r\n        })\r\n    }\r\n    return tree;\r\n}\r\n\r\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-01 10:10:49 \r\n * @Desc: 获取缓存的思维导图数据 \r\n */\r\nexport const getData = () => {\r\n    let store = localStorage.getItem(SIMPLE_MIND_MAP_DATA)\r\n    // console.log(\"run simpleDeepClone(exampleData)\")\r\n    // console.log(\"exampleData\",exampleData)\r\n    return simpleDeepClone(exampleData_python)\r\n    // if (store === null) {\r\n    //     console.log(\"run simpleDeepClone(exampleData)\")\r\n    //     console.log(\"exampleData\",exampleData)\r\n    //     return simpleDeepClone(exampleData)\r\n    // } else {\r\n    //     try {\r\n    //         console.log(\"donot run simpleDeepClone(exampleData)\")\r\n    //         return JSON.parse(store)\r\n    //     } catch (error) {\r\n    //         return simpleDeepClone(exampleData)\r\n    //     }\r\n    // }\r\n}\r\n\r\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-01 10:14:28 \r\n * @Desc: 存储思维导图数据 \r\n */\r\nexport const storeData = (data) => {\r\n    try {\r\n        let originData = getData()\r\n        originData.root = copyMindMapTreeData({}, data)\r\n        let dataStr = JSON.stringify(originData)\r\n        localStorage.setItem(SIMPLE_MIND_MAP_DATA, dataStr)\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n/** \r\n * @Author: 王林 \r\n * @Date: 2021-08-01 10:24:56 \r\n * @Desc: 存储思维导图配置数据 \r\n */\r\nexport const storeConfig = (config) => {\r\n    try {\r\n        let originData = getData()\r\n        originData = {\r\n            ...originData,\r\n            ...config\r\n        }\r\n        let dataStr = JSON.stringify(originData)\r\n        localStorage.setItem(SIMPLE_MIND_MAP_DATA, dataStr)\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,qCAAxB;AACA,OAAOC,kBAAP,MAA+B,4BAA/B;AACA,SAASC,eAAT,QAAgC,iCAAhC;AAEA,MAAMC,oBAAoB,GAAG,sBAA7B;AAEA;AACA;AACA;AACA;AACA;;AACA,MAAMC,mBAAmB,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;EACxCD,IAAI,CAACE,IAAL,GAAYL,eAAe,CAACI,IAAI,CAACC,IAAN,CAA3B,CADwC,CAExC;;EACAF,IAAI,CAACG,QAAL,GAAgB,EAAhB;;EACA,IAAIF,IAAI,CAACE,QAAL,IAAiBF,IAAI,CAACE,QAAL,CAAcC,MAAd,GAAuB,CAA5C,EAA+C;IAC3CH,IAAI,CAACE,QAAL,CAAcE,OAAd,CAAsB,CAACC,IAAD,EAAOC,KAAP,KAAiB;MACnCP,IAAI,CAACG,QAAL,CAAcI,KAAd,IAAuBR,mBAAmB,CAAC,EAAD,EAAKO,IAAL,CAA1C;IACH,CAFD;EAGH;;EACD,OAAON,IAAP;AACH,CAVD;AAYA;AACA;AACA;AACA;AACA;;;AACA,OAAO,MAAMQ,OAAO,GAAG,MAAM;EACzB,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqBb,oBAArB,CAAZ,CADyB,CAEzB;EACA;;EACA,OAAOD,eAAe,CAACD,kBAAD,CAAtB,CAJyB,CAKzB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACH,CAjBM;AAmBP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMgB,SAAS,GAAIV,IAAD,IAAU;EAC/B,IAAI;IACA,IAAIW,UAAU,GAAGL,OAAO,EAAxB;IACAK,UAAU,CAACZ,IAAX,GAAkBF,mBAAmB,CAAC,EAAD,EAAKG,IAAL,CAArC;IACA,IAAIY,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeH,UAAf,CAAd;IACAH,YAAY,CAACO,OAAb,CAAqBnB,oBAArB,EAA2CgB,OAA3C;EACH,CALD,CAKE,OAAOI,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CATM;AAWP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMG,WAAW,GAAIC,MAAD,IAAY;EACnC,IAAI;IACA,IAAIT,UAAU,GAAGL,OAAO,EAAxB;IACAK,UAAU,GAAG,EACT,GAAGA,UADM;MAET,GAAGS;IAFM,CAAb;IAIA,IAAIR,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeH,UAAf,CAAd;IACAH,YAAY,CAACO,OAAb,CAAqBnB,oBAArB,EAA2CgB,OAA3C;EACH,CARD,CAQE,OAAOI,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAZM"},"metadata":{},"sourceType":"module"}
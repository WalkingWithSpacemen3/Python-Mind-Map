{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MindMap from 'simple-mind-map';\nimport { getData, storeData, storeConfig } from '@/api';\nexport default {\n  name: 'HelloWorld',\n  props: ['index'],\n\n  data() {\n    return {\n      mindmapdata: null,\n      pdfLink: \"/Ch3_loop.pdf\",\n      drawer: false,\n      direction: 'rtl',\n      title: ''\n    };\n  },\n\n  mounted() {\n    this.getData();\n    this.init();\n  },\n\n  methods: {\n    getData() {\n      let storeData = getData();\n      this.mindMapData = storeData.python_trees[this.$props.index];\n    },\n\n    init() {\n      let {\n        root,\n        layout,\n        theme,\n        view\n      } = this.mindMapData;\n      this.mindMap = new MindMap({\n        el: document.getElementById('mindMapContainer'),\n        data: root,\n        layout: layout,\n        theme: 'diyColor',\n        themeConfig: theme.config,\n        viewData: view,\n        readonly: true\n      });\n      let themeConfig = this.mindMap.getCustomThemeConfig();\n      themeConfig.backgroundColor = '#2f2f32'; // this.mindMap.on('mousedown', (...args) => {\n      //     console.log(\"鼠标按下\")\n      //     this.mindMap.setTheme('diyColor')\n      //     console.log(\"this.mindMap.themeConfig\",this.mindMap.themeConfig)\n      //\n      //   })\n      // this.mindMap.on('node_mousedown', (data) => {\n      //   console.log(\"nodemousedown  data\",data)\n      //   //console.log(\"nodemousedown datae\",e)\n      // });\n      // this.mindMap.render()\n\n      this.mindMap.on('node_click', data => {\n        if (data.ableToClick === true) {\n          this.drawer = true;\n          let pointText = data.nodeData.data.text;\n          this.title = pointText;\n          console.log(\"node_click\", data);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AAEA;EACAA,kBADA;EAEAC,gBAFA;;EAGAC;IACA;MACAC,iBADA;MAIAC,wBAJA;MAKAC,aALA;MAMAC,gBANA;MAOAC;IAPA;EASA,CAbA;;EAcAC;IACA;IACA;EACA,CAjBA;;EAkBAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACA;QACAC,+CADA;QAEAd,UAFA;QAGAW,cAHA;QAIAC,iBAJA;QAKAG,yBALA;QAMAC,cANA;QAOAC;MAPA;MASA;MACAF,wCAZA,CAaA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACA;QACA;UACA;UACA;UACA;UAIAG;QACA;MACA,CAVA;IAWA;;EAxCA;AAlBA","names":["name","props","data","mindmapdata","pdfLink","drawer","direction","title","mounted","methods","getData","init","root","layout","theme","view","el","themeConfig","viewData","readonly","console"],"sourceRoot":"src/components","sources":["HelloWorld.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"editContainer\">\r\n      <div class=\"mindMapContainer\" id=\"mindMapContainer\"></div>\r\n      <mindmap height=\"50\" width=\"50%\"></mindmap>\r\n    </div>\r\n    <el-drawer\r\n        id=\"drawer\"\r\n        title=\"\"\r\n        :visible.sync=\"drawer\"\r\n        direction=\"rtl\"\r\n        :modal=\"false\"\r\n        :modal-append-to-body=\"false\"\r\n        size=\"20%\">\r\n      <span slot=\"title\" style=\"font-size: 30px; color:  #cccccc\">{{ title }}</span>\r\n      <div>\r\n      <router-link class=\"pdfLink\" rel=\"external nofollow\"  target=\"_blank\" :to=\"pdfLink\" >pdf</router-link>\r\n      </div>\r\n    </el-drawer>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport MindMap from 'simple-mind-map'\r\nimport {getData, storeData, storeConfig} from '@/api'\r\n\r\nexport default {\r\n  name: 'HelloWorld',\r\n  props: ['index'],\r\n  data() {\r\n    return {\r\n      mindmapdata: null,\r\n\r\n\r\n      pdfLink: \"/Ch3_loop.pdf\",\r\n      drawer: false,\r\n      direction: 'rtl',\r\n      title: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getData()\r\n    this.init()\r\n  },\r\n  methods: {\r\n    getData() {\r\n      let storeData = getData();\r\n      this.mindMapData = storeData.python_trees[this.$props.index];\r\n    },\r\n    init() {\r\n      let {root, layout, theme, view} = this.mindMapData;\r\n      this.mindMap = new MindMap({\r\n        el: document.getElementById('mindMapContainer'),\r\n        data: root,\r\n        layout: layout,\r\n        theme: 'diyColor',\r\n        themeConfig: theme.config,\r\n        viewData: view,\r\n        readonly: true\r\n      });\r\n      let themeConfig = this.mindMap.getCustomThemeConfig();\r\n      themeConfig.backgroundColor = '#2f2f32';\r\n      // this.mindMap.on('mousedown', (...args) => {\r\n      //     console.log(\"鼠标按下\")\r\n      //     this.mindMap.setTheme('diyColor')\r\n      //     console.log(\"this.mindMap.themeConfig\",this.mindMap.themeConfig)\r\n      //\r\n      //   })\r\n      // this.mindMap.on('node_mousedown', (data) => {\r\n      //   console.log(\"nodemousedown  data\",data)\r\n      //   //console.log(\"nodemousedown datae\",e)\r\n      // });\r\n      // this.mindMap.render()\r\n      this.mindMap.on('node_click', (data) => {\r\n        if (data.ableToClick === true) {\r\n          this.drawer = true;\r\n          let pointText = data.nodeData.data.text;\r\n          this.title = pointText;\r\n\r\n\r\n\r\n          console.log(\"node_click\", data);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"less\">\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\n\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.pdfLink {\r\n text-decoration:none;\r\n  text-align: center;\r\n  color: #42b983;\r\n  font-size: 30px;\r\n}\r\n\r\n/deep/ .el-drawer.rtl {\r\n  border-radius: 20px;\r\n  background-color: #39393c;\r\n  width: 20%;\r\n}\r\n\r\n#drawer {\r\n  top: 70px;\r\n  bottom: 7px;\r\n}\r\n\r\n.courseName {\r\n  position: relative;\r\n  top: 5%;\r\n  left: 5%;\r\n  font-size: 40px;\r\n}\r\n\r\n.editContainer {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-color: #2c3e50;\r\n\r\n  .mindMapContainer {\r\n    position: absolute;\r\n    left: 0px;\r\n    top: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}